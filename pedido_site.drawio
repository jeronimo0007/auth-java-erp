```mermaid
flowchart TD
    A[Cliente faz cadastro] --> B[Cria automaticamente:<br/>- Cliente<br/>- Contato<br/>- Projeto<br/>- 3 Tasks]
    
    B --> C[Chama endpoint assíncrono<br/>com dados do site]
    
    C --> D[Endpoint coloca dados<br/>na fila para processamento]
    
    D --> E[API de IA processa<br/>e cria o site]
    
    E --> F[Atualiza status da task<br/>para 'Em desenvolvimento']
    
    F --> G[Funcionário valida<br/>e faz correções]
    
    G --> H[Cliente valida o site]
    
    H --> I{Cliente aprovou?}
    
    I -->|Não| J[Volta para correções<br/>do funcionário]
    J --> G
    
    I -->|Sim| K[Executa Task de Fatura]
    
    K --> L[Task Fatura processada<br/>e transformada em fatura real]
    
    B --> M[Task 2 - Configurações<br/>1. Criar domínio<br/>2. Gerar HTTPS<br/>3. Gerar email<br/>4. Entrar em contato]
    
    M --> N[Processa itens da Task 2]
    
    B --> O[Task 3 - Fatura<br/>Aguardando aprovação<br/>do cliente]
    
    O --> P[Após aprovação:<br/>Gera fatura real]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#fff3e0
    style D fill:#fff3e0
    style E fill:#e8f5e8
    style F fill:#e8f5e8
    style G fill:#fff9c4
    style H fill:#fff9c4
    style I fill:#ffebee
    style K fill:#f3e5f5
    style L fill:#e8f5e8
    style M fill:#f3e5f5
    style N fill:#e8f5e8
    style O fill:#f3e5f5
    style P fill:#e8f5e8
```

## Fluxo Detalhado do Sistema de Criação de Sites

### 1. Cadastro Inicial
- Cliente preenche formulário com dados do site
- Sistema cria automaticamente:
  - Cliente na tabela `tblclients`
  - Contato na tabela `tblcontacts`
  - Projeto na tabela `tblprojects`
  - 3 Tasks na tabela `tbltasks`

### 2. Tasks Criadas Automaticamente

#### Task 1 - Desenvolvimento do Site
- Prompt completo para o desenvolvedor
- Especificações técnicas e de design
- Instruções detalhadas

#### Task 2 - Configurações do Site
- Criar domínio
- Gerar HTTPS (SSL)
- Gerar email corporativo
- Entrar em contato com cliente

#### Task 3 - Geração de Fatura
- Aguarda aprovação do cliente
- Gera fatura após validação
- Acompanha pagamento

### 3. Processo Assíncrono
- Endpoint recebe dados e coloca na fila
- API de IA processa e cria o site
- Atualiza status das tasks

### 4. Validação e Correções
- Funcionário valida o site criado
- Faz correções necessárias
- Cliente valida o resultado final

### 5. Finalização
- Após aprovação do cliente
- Task de fatura é executada
- Fatura real é gerada no sistema
